Martin VÃ¤th <martin@mvath.de>: Unpatch the change of ccache-4.6 which causes a
sandbox violation under Gentoo, cf. https://bugs.gentoo.org/837524
--- 1/src/Config.cpp
+++ 1/src/Config.cpp
@@ -1031,14 +1027,14 @@
 std::string
 Config::default_temporary_dir(const std::string& cache_dir)
 {
   static const std::string run_user_tmp_dir = [] {
 #ifdef HAVE_GETEUID
-    auto dir = FMT("/run/user/{}/ccache-tmp", geteuid());
-    if (Util::create_dir(dir)) {
-      return dir;
-    }
+  std::string user_tmp_dir = FMT("/run/user/{}", geteuid());
+  if (Stat::stat(user_tmp_dir).is_directory()) {
+    return user_tmp_dir + "/ccache-tmp";
+  }
 #endif
     return std::string();
   }();
   return !run_user_tmp_dir.empty() ? run_user_tmp_dir : cache_dir + "/tmp";
 }
