# Special configurations/patches
# Martin sets  here variables which are useful or need to be set
# for our configuration (e.g. special printers/arches, EXTRA_* variables,
# also bugfixes which can be made e.g. by adding a library to LDFLAGS).
#
# This file does not include modifications of CFLAGS/variables which
# override our general global settings; those go into all-systems.

<=app-cdr/xcdroast-0.98_alpha16-r3 \~"EXTRA_EMAKE=XCDRLIB_PREFIX=\"\$EPREFIX/usr/lib64/xcdroast-0.98\""
#app-misc/lirc "LIRC_OPTS='--with-driver=pctv'"
app-text/pinfo "EXTRA_EMAKE+=WFLAGS=-Wno-error" # undo -Werror which breaks compilation
app-text/u2ps "EXTRA_EMAKE+='SHELL=/bin/bash'"
dev-java/icedtea* "EXTRA_ECONF+='--with-pax=paxctl-ng'"
dev-lang/rust "export SHELL=/bin/sh"
dev-libs/libsodium !"export enable_pie=no"
dev-perl/Clone "export mymake='DEFINE=-D_LARGEFILE64_SOURCE'" # -D_LARGEFILE64_SOURCE is filtered by the ebuild but *MUST* be used.
mail-client/thunderbird "export SHELL=/bin/sh"
media-gfx/gimp "EXTRA_EMAKE+='SHELL=/bin/bash'"
media-gfx/potrace "export CC=gcc" # otherwise clang is used for compilation if available
#media-libs/freetype -DFT_CONFIG_OPTION_OLD_INTERNALS # needed for nxclient unless ebuild is patched
media-libs/jpeg "EXTRA_ECONF+='--disable-static'"
media-libs/libquicktime "EXTRA_ECONF+='--disable-static'"
media-libs/libmikmod "EXTRA_EMAKE+='SHELL=/bin/bash'"
=media-video/nvidia-settings-173.14.37 -ldl
net-libs/c-client -lcrypt
net-misc/nxserver-freenx "EXTRA_EMAKE+='SHELL=/bin/bash'"
net-misc/wget "EXTRA_ECONF+='--disable-xattr'" # disable storing of useless information in xattr
sci-mathematics/fricas EXTRA_ECONF+='--with-gmp= --disable-gmp' # --without-gmp from the ebuild does not work https://bugs.gentoo.org/show_bug.cgi?id=650788
sys-devel/gcc "export GCC_MAKE_TARGET='profiledbootstrap'" # "MAKEOPTS-='-j*'"
sys-fs/udev "EXTRA_ECONF+='--disable-static'"
www-client/firefox "export SHELL=/bin/sh"
x11-libs/gtk+ "EXTRA_EMAKE+='SHELL=/bin/bash'"
